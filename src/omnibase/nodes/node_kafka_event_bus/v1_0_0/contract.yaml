---

contract_version: 1.0.0
node_name: node_kafka_event_bus_node
node_version: 1.0.0
contract_name: node_kafka_event_bus_node_contract
contract_description: State contract for node_kafka_event_bus_node
error_codes:
  # Only node-specific error codes should be listed here. Generic errors are handled by CoreErrorCode.
  # To regenerate error_codes.py after updating this section, run:
  # poetry run python src/omnibase/runtimes/onex_runtime/v1_0_0/codegen/contract_to_model.py --contract <path-to-contract.yaml> --output-dir <output-dir>
  BACKEND_UNAVAILABLE: Event bus backend unavailable
  CONNECTION_FAILED: Failed to connect to backend
  MESSAGE_PUBLISH_FAILED: Failed to publish message to event bus
  MESSAGE_CONSUME_FAILED: Failed to consume message from event bus
  TIMEOUT_EXCEEDED: Operation timed out
  CONFIGURATION_ERROR: Invalid or missing configuration
  HANDLER_NOT_FOUND: No handler found for requested operation
  BOOTSTRAP_FAILED: Node bootstrap process failed
  INTEGRATION_ERROR: Integration with external system failed
  RESOURCE_EXHAUSTED: Resource limit reached

input_state:
  type: object
  properties:
    version:
      $ref: '#/definitions/SemVerModel'
      description: Schema version for input state
    input_field:
      type: string
      description: Required input field for template node
    optional_field:
      $ref: '#/definitions/OnexFieldModel'
      description: Optional input field for template node
    event_id:
      type: string
      description: Unique event identifier (UUID)
    correlation_id:
      type: string
      description: Correlation ID for tracing requests/events
    node_name:
      type: string
      description: Name of the node processing the event
    node_version:
      $ref: '#/definitions/SemVerModel'
      description: Version of the node
    timestamp:
      type: string
      format: date-time
      description: ISO8601 timestamp of the event
  required:
    - version
    - input_field
output_state:
  type: object
  properties:
    version:
      $ref: '#/definitions/SemVerModel'
      description: Schema version for output state (matches input)
    status:
      type: string
      enum:
        - success
        - warning
        - error
        - skipped
        - fixed
        - partial
        - info
        - unknown
      description: Execution status
    message:
      type: string
      description: Human-readable result message
    output_field:
      $ref: '#/definitions/ModelEventBusOutputField'
    event_id:
      type: string
      description: Unique event identifier (UUID)
    correlation_id:
      type: string
      description: Correlation ID for tracing requests/events
    node_name:
      type: string
      description: Name of the node processing the event
    node_version:
      $ref: '#/definitions/SemVerModel'
      description: Version of the node
    timestamp:
      type: string
      format: date-time
      description: ISO8601 timestamp of the event
  required:
    - version
    - status
    - message
examples:
  valid_input:
    version: 1.0.0
    input_field: example_value
    optional_field: optional_value
  valid_output:
    version: 1.0.0
    status: success
    message: Operation completed successfully
    output_field:
      data:
        result: example

definitions:
  OnexFieldModel:
    type: object
    properties:
      data:
        type: object
        description: Arbitrary ONEX field data
  ModelEventBusOutputField:
    type: object
    properties:
      processed:
        type: string
        nullable: true
      integration:
        type: boolean
        nullable: true
      backend:
        type: string
      custom:
        type: object
        nullable: true
    required:
      - backend
  SemVerModel:
    type: object
    properties:
      major:
        type: integer
      minor:
        type: integer
      patch:
        type: integer
      prerelease:
        type: string
        nullable: true
      build:
        type: string
        nullable: true
    required:
      - major
      - minor
      - patch
    description: Semantic version model for ONEX nodes

hash: 406d07a5a0377549a710ae4855b7f98fd009f866d701575e4b825ed5f282aae9
last_modified_at: '2025-05-30T13:04:27.518784Z'

config_model: python://src/omnibase/nodes/node_kafka_event_bus/v1_0_0/models/config.py::KafkaEventBusConfigModel
