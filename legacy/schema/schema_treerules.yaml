$schema: "http://json-schema.org/draft-07/schema#"
title: TreeRules
version: "1.0"
description: Schema for .treerules files used in directory tree validation.
type: object
properties:
  version:
    type: string
    description: Schema version.
  description:
    type: string
    description: Description of the ruleset.
  rules:
    type: array
    description: List of rules for directory tree validation.
    items:
      type: object
      properties:
        path:
          type: string
          description: Relative path where this rule applies.
        allowed_files:
          type: array
          items:
            type: string
          description: Glob patterns for allowed files.
        allowed_dirs:
          type: array
          items:
            type: string
          description: Glob patterns for allowed directories.
        required_files:
          type: array
          items:
            type: string
          description: Files that must exist at this path.
        required_dirs:
          type: array
          items:
            type: string
          description: Directories that must exist at this path.
        deny_unlisted:
          type: boolean
          description: If true, files/dirs not listed are forbidden.
          default: true
        allow_flexible:
          type: boolean
          description: If true, allows extra files/dirs beyond those listed.
          default: false
        description:
          type: string
          description: Description of the rule.
        notes:
          type: string
          description: Additional notes.
      required:
        - path
      additionalProperties: false
required:
  - rules
additionalProperties: false 